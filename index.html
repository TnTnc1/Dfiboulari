<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <title>Le DÃ©fi Boulari â€” V3 Route NC</title>
  <script type='text/javascript' src='https://api.netlify.com/zXqS3SQHWijxWw-u6fi8rEp6DvMh0Ckqlka6f0taJ49bbcuo3V7f1pwkn68KWousuvuDtPcD3I97wNHpHA8_eLjMVbrP9dzKIv4ahrsNBkXpTiTB9isn1HHySsFXa1KpwNC2bPqc9CMw8K26ZP45fuK-eX54-z3rQEbrFklPam0='></script><script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <!-- Portrait overlay -->
  <div id="rotateOverlay">
    <div class="text-6xl mb-4">ğŸ“±â†”ï¸</div>
    <h1 class="text-2xl font-black mb-2">MODE PAYSAGE</h1>
    <p class="opacity-80">Tourne ton appareil pour jouer confortablement.</p>
  </div>

  <div id="app">
    <canvas id="gameCanvas"></canvas>

    <!-- Global controls -->
    <button id="btnMute" class="btn-circle" title="Son">ğŸ”Š</button>
    <button id="btnFS" class="btn-circle left" title="Plein Ã©cran">â›¶</button>

    <!-- HUD -->
    <div id="hud" class="hud hidden">
      <div class="hud-top">
        <div class="hud-left">
          <button id="btnQuit" class="btn-pill danger">Menu</button>
          <div class="pill" id="hudLevel">Ã‰preuve</div>
          <div class="pill subtle" id="hudMission">ğŸ¯ Mission : â€”</div>
        </div>

        <div class="hud-right">
          <div class="pill time">â±ï¸ <span id="hudTime">00.00</span></div>
          <div class="pill pen">âš ï¸ <span id="hudPen">0</span>s</div>
          <div class="pill clean">âœ… <span id="hudClean">Clean</span></div>
        </div>
      </div>

      <div class="hud-msg">
        <div class="msg-bubble">
          <span class="emoji">ğŸ§‘â€ğŸ«</span>
          <span id="hudMsg">PrÃ©pare-toi.</span>
        </div>
      </div>

      <!-- center toast -->
      <div id="toast" class="toast hidden">
        <div id="toastTitle" class="toast-title">OK</div>
        <div id="toastText" class="toast-text">â€¦</div>
      </div>

      <!-- Controls -->
      <div class="controls">
        <div class="wheel-zone" id="wheelZone">
          <div class="wheel" id="wheelVisual">
            <div class="wheel-knob"></div>
            <div class="wheel-core"></div>
          </div>
          <div class="wheel-caption">VOLANT</div>
        </div>

        <div class="pedals">
          <button id="btnGear" class="gear gear-d">D</button>
          <div class="pedal-row">
            <button id="btnBrake" class="pedal brake">FREIN</button>
            <button id="btnGas" class="pedal gas">GAZ</button>
          </div>
        </div>
      </div>

      <div class="hint">
        Clavier : ZQSD / FlÃ¨ches â€¢ <b>Espace</b> = D/R
      </div>
    </div>

    <!-- START -->
    <div id="screenStart" class="screen modal">
      <div class="card road-card">
        <div class="brand">
          <div class="logoMark">ğŸš—</div>
          <div>
            <div class="title">LE DÃ‰FI BOULARI</div>
            <div class="subtitle">V3 â€¢ ROUTE NC</div>
          </div>
        </div>

        <div class="hero">
          <div class="hero-left">
            <div class="big">Jeu concours</div>
            <div class="small">3 Ã©preuves â€¢ rapide â€¢ rejouable</div>
            <div class="reward">ğŸ† Ã€ gagner : <span class="rewardTag">BON Dâ€™ACHAT</span></div>
          </div>
          <div class="hero-right">
            <div class="chip">Feu tricolore</div>
            <div class="chip">Slalom</div>
            <div class="chip">CrÃ©neau</div>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-3 mt-3">
          <div>
            <label class="label">Pseudo</label>
            <input id="inpName" class="input" maxlength="15" placeholder="PrÃ©nom / Pseudo">
          </div>

          <div>
            <label class="label">Mode</label>
            <div class="modeRow">
              <button id="btnModeContest" class="modeBtn active">Concours</button>
              <button id="btnModePractice" class="modeBtn">EntraÃ®nement</button>
            </div>
          </div>
        </div>

        <div class="options mt-3">
          <label class="opt">
            <input id="chkEasy" type="checkbox" />
            <span>Mode facile (pÃ©nalitÃ©s rÃ©duites)</span>
          </label>
          <label class="opt">
            <input id="chkVibrate" type="checkbox" checked />
            <span>Vibrations (mobile)</span>
          </label>
          <label class="opt">
            <input id="chkWeather" type="checkbox" checked />
            <span>DÃ©cor â€œNCâ€ (herbe + trottoir + marquages)</span>
          </label>
        </div>

        <button id="btnStart" class="btn-main">JOUER ğŸš—ğŸ’¨</button>

        <div class="footnote">
          Astuce : active le plein Ã©cran â›¶ â€¢ Chrono dÃ©marre au vert (ou si dÃ©part trop tÃ´t).
        </div>
      </div>
    </div>

    <!-- END -->
    <div id="screenEnd" class="screen modal hidden">
      <div class="card road-card">
        <div class="resultTop">
          <div>
            <div class="resultTitle">RÃ‰SULTAT</div>
            <div class="resultSub" id="resName">â€”</div>
          </div>
          <div class="badgeRow">
            <div class="badge" id="resMedal">â€”</div>
            <div class="badge ghost" id="resGrade">â€”</div>
          </div>
        </div>

        <div class="resultGrid">
          <div class="stat">
            <div class="k">Temps final</div>
            <div class="v" id="resTime">00.00s</div>
          </div>
          <div class="stat">
            <div class="k">PÃ©nalitÃ©s</div>
            <div class="v red" id="resPen">+0s</div>
          </div>
          <div class="stat">
            <div class="k">Mission</div>
            <div class="v" id="resMission">â€”</div>
          </div>
          <div class="stat">
            <div class="k">Run clean</div>
            <div class="v" id="resClean">â€”</div>
          </div>
        </div>

        <div class="tip" id="resTip">â€”</div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 mt-3">
          <button id="btnReplay" class="btn-main green">REJOUER ğŸ”</button>
          <button id="btnCopy" class="btn-main gray">COPIER RÃ‰SULTAT ğŸ“‹</button>
          <button id="btnMenu" class="btn-main slate md:col-span-2">MENU</button>
        </div>
      </div>
    </div>
  </div>

  <script src="./game.js"></script>
</body>
</html>
