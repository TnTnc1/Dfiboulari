<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <title>Le D√©fi Boulari V2</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="./styles.css">
</head>
<body>
  <!-- Portrait overlay -->
  <div id="rotateOverlay">
    <div class="text-6xl mb-4">üì±‚ÜîÔ∏è</div>
    <h1 class="text-2xl font-bold mb-2">TOURNEZ VOTRE APPAREIL</h1>
    <p>Le D√©fi Boulari se joue en mode Paysage pour une meilleure visibilit√© !</p>
  </div>

  <div id="game-container">
    <div id="gameOverlay" class="game-overlay hidden"></div>

    <!-- Global controls -->
    <button id="globalMuteBtn" class="btn-mute" title="Son">üîä</button>
    <button id="fsToggleBtn" class="btn-fullscreen" title="Plein √âcran">‚õ∂</button>

    <canvas id="gameCanvas"></canvas>

    <!-- HUD -->
    <div id="gameUI" class="ui-layer hidden">
      <div class="hud-top">
        <div class="flex items-center gap-2">
          <button id="quitBtn" class="btn-quit">‚úï Menu</button>
          <div class="info-box" id="levelName">√âpreuve</div>
        </div>
        <div class="flex items-center gap-2">
          <div class="info-box" style="color:#f1c40f;">‚è±Ô∏è <span id="timerVal">00.00</span></div>
          <div class="info-box text-red-300">‚ö†Ô∏è <span id="penaltyVal">0</span>s</div>
        </div>
      </div>

      <!-- Coach bubble -->
      <div class="coach-wrap">
        <div class="coach-bubble" id="monitorBox">
          <span class="text-2xl mr-2">üëÆ‚Äç‚ôÇÔ∏è</span>
          <span id="monitorMsg">Bienvenue au D√©fi Boulari !</span>
        </div>
      </div>

      <!-- Small toast -->
      <div id="toast" class="toast hidden">
        <div class="toast-title" id="toastTitle">PARFAIT !</div>
        <div class="toast-text" id="toastText">+0s</div>
      </div>

      <!-- Controls -->
      <div class="controls-area">
        <div class="wheel-zone" id="wheelZone">
          <div id="wheelVisual" class="wheel-visual">
            <div class="wheel-knob" id="wheelKnob"></div>
          </div>
          <div class="wheel-label">VOLANT</div>
        </div>

        <div class="pedals-zone">
          <div class="gear-stick gear-d" id="gearStick">D</div>
          <div class="pedal-row">
            <div class="pedal brake" id="btnBrake">FREIN</div>
            <div class="pedal gas" id="btnGas">GAZ</div>
          </div>
        </div>
      </div>

      <div class="hint">
        Clavier : ZQSD / Fl√®ches + <b>Espace</b> (D/R)
      </div>
    </div>

    <!-- Start -->
    <div id="startScreen" class="ui-layer interactive modal-bg">
      <div class="menu-card">
        <div class="w-full mb-3 overflow-hidden rounded-xl border border-gray-200 shadow-sm">
          <img src="https://i.postimg.cc/VL0sLRv5/IMG-3343.jpg" alt="Le D√©fi Boulari" class="menu-logo w-48 mx-auto h-auto object-contain block">
        </div>

        <h1 class="menu-title text-3xl md:text-4xl font-black mb-1">LE D√âFI BOULARI <span class="text-sm font-bold align-top">V2</span></h1>
        <div class="menu-desc">Un mini-jeu pour s‚Äôamuser‚Ä¶ et devenir meilleur üî•</div>

        <div class="menu-rules">
          <div class="font-bold mb-1">üèÜ √Ä gagner :</div>
          <div class="text-sm text-gray-700 font-semibold">Le meilleur chrono gagne un <span class="badge">BON D‚ÄôACHAT</span></div>
          <div class="text-xs text-gray-500 mt-2">3 √©preuves rapides ‚Ä¢ 1m‚Äì2m ‚Ä¢ Tu peux rejouer direct</div>
        </div>

        <input type="text" id="playerNameInput" class="input-field" placeholder="Ton Pr√©nom / Pseudo" maxlength="15">
        <button class="btn-main" id="startBtn">JOUER üöóüí®</button>

        <div class="mt-3 text-xs text-gray-500">
          Astuce : en mobile, active le plein √©cran ‚õ∂ pour un meilleur confort.
        </div>
      </div>
    </div>

    <!-- End -->
    <div id="endScreen" class="ui-layer interactive modal-bg hidden">
      <div class="menu-card" style="max-width:560px;border-top-color:#27ae60;">
        <div class="certificate">
          <h2 class="text-2xl font-black text-center border-b-2 border-black pb-2 mb-4">
            CERTIFICAT DU D√âFI BOULARI
          </h2>

          <div class="text-left space-y-2 text-sm">
            <p>PILOTE : <span class="font-black text-lg" id="certName">---</span></p>
            <p>DATE : <span id="certDate">--/--/----</span></p>

            <div class="grid grid-cols-2 gap-3 mt-3">
              <div class="score-box">
                <div class="score-label">P√âNALIT√âS</div>
                <div class="score-val text-red-600" id="certPenalties">+0s</div>
              </div>
              <div class="score-box">
                <div class="score-label">TEMPS FINAL</div>
                <div class="score-val text-blue-600" id="certTime">00.00</div>
              </div>
            </div>

            <div class="mt-3">
              <div class="score-label">NOTE</div>
              <div class="grade" id="certGrade">A</div>
              <div class="text-xs text-gray-500 mt-1" id="certTip">---</div>
            </div>

            <div class="text-right text-xs text-gray-400 mt-2">ID : <span id="certId">#0000</span></div>
          </div>

          <div class="stamp">VALID√â<br>AUTO<br>√âCOLE</div>
        </div>

        <p class="text-gray-500 text-xs mt-4 mb-2 font-bold">üì∏ Fais une capture d‚Äô√©cran et poste-la !</p>
        <div class="flex gap-2">
          <button class="btn-main" id="restartBtn" style="background:#27ae60;">REJOUER üîÅ</button>
          <button class="btn-main" id="backMenuBtn" style="background:#34495e;">MENU</button>
        </div>
      </div>
    </div>
  </div>

  <script src="./game.js"></script>
</body>
</html>
